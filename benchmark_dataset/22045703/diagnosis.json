{
    "diagnosis": {
        "final_diagnosis": "nonvariceal upper gastrointestinal bleeding secondary to peptic ulcer disease",
        "differential_diagnosis": "Not specified",
        "diagnostic_reasoning": "The patient presented with symptoms of light-headedness and melena, indicating possible gastrointestinal bleeding. Laboratory findings showed a significantly low hemoglobin level, and endoscopy revealed a duodenal cap ulcer with a visible vessel, confirming the final diagnosis."
    }
}